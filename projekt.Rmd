---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Tim Resnik"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
runtime: shiny
---

```{r setup, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding="UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding="UTF-8")
```

```{r rstudio, echo=FALSE, results='asis'}
# Izris povezave do RStudia na Binderju
source("lib/rstudio.r", encoding="UTF-8")
```

# Izbira teme

Deleži BDP-ja v Sloveniji in Evropskih državah

![](slike/bdp.jpg)

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE, message=FALSE, warning=FALSE}
source("uvoz/uvoz.r", encoding="UTF-8")
```

Uvozil sem podatke za deleže v BDP-jih v obliki CSV iz statističnega urada Slovenije(za Slovenijo)
ter iz Eurostat-a(za države Evropske Unije). Podatke sem nato razvrstil v dve razpredelnici,
kjer so sedaj v obliki *tidy data*.


1. `Slovenija` - podatki o deležih za Slovenijo
  - `Dejavnosti` - spremenljivka : Deleži ki sestavljajo BDP (neurejen faktor)
  - `Leto` - spremenljivka: Podatki so dostopni od leta 1995 naprej (števila od 1995 do 2018),
  - `Kvartal` - spremenljivka: Leto je razdeljeno na štiri kvartale (števila od 1 do 4),
  - `Vrednost`- meritev: Vrednost, izražena v mio €, stalne cene za referenčno leto 2010 (število).

2. `Evropa` - podatki o deležih za Evropo
  - `Drzava` - spremenljivka: Država iz EU(neurejen faktor),
  - `Dejavnost` - spremenljivka: Deleži ki sestavljajo BDP (neurejen faktor),
  - `Leto` - spremenljivka: Podatki so dostopni od leta 1995 naprej (števila od 1995 do 2018),
  - `Kvartal` - spremenljivka: Leto je razdeljeno na štiri kvartale (števila od 1 do 4),
  - `Vrednost` - meritev: Vrednost, izražena v mio €, stalne cene za referenčno leto 2010 (število).


**Opomba1**: Za to, da sta tabeli za Slovenijo in Evropo v obliki *tidy data*, sem iz obeh odstranil vrstice s podatki o
`dejavnosti C` (`predelovalne dejavnosti` oz. `manufacturing`), saj so podatki že vsebovani v večjem sklopu, 
ki vsebuje `dejavnosti BCDE`.
**Opomba2**: V tabeli za Evropo sem odstranil nepomembne stolpce za mojo analizo(`Enota`, `Sezona` in `Merilo`), saj sem že ob pridobivanju CSV datotek te nastavil tako, da se niso spreminjale. 


***

# Analiza in vizualizacija podatkov

```{r vizualizacija, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}
source("vizualizacija/vizualizacija.r", encoding="UTF-8")
```
Ob pregledovanju podatkov sem se odločil, da bom največ časa namenil analizi Slovenije, pri evropskih državah pa bom bolj pozoren na Španijo, Nemčijo, Češko in Grčijo. Navedena skupina držav se med seboj dodobra razlikuje po kulturi, načinu življenja in razmišljanja ter bo zato primerna testna skupina za ugotavljanje zaključkov.

Prvi graf je nadvse splošen, poznan večini ljudi zaradi svoje preprostosti in celosti, predstavlja namreč BDP na prebivalca evropskih držav v primerjavi s Slovenijo za obdobje več kot 20 let.
Pomembno je, da se podatki predstavljajo v tem primeru na osnovi 'per capita'(na prebivalca), saj ta odstrani učinek večjega BDP-ja zaradi številčnejšega naroda, in enako v drugi smeri.
Kot smo pričakovali, prednjači Nemčija, medtem ko sta bili Španija in Grčija vrsto let zelo izenačeni, nakar je zadnja finančna kriza Grčijo prizadela mnogo bolj kot ostale testne države. V primerjavi Slovenije in Češke, se je naša prednost povečevala v letih do 2008, nato pa se začela zmanjševati, iz česar lahko ugotovimo, da so se rojaki iz vzhoda bolje spoprijeli z gospodarskimi izzivi 2. desetletja.

print(graf1)


***

# Napredna analiza podatkov

```{r analiza, echo=FALSE, message=FALSE, warning=FALSE}
source("analiza/analiza.r", encoding="UTF-8")
```


***

```{r shiny, echo=FALSE, warning=FALSE}
shinyAppDir("shiny", options=list(width="100%", height=600))
```
